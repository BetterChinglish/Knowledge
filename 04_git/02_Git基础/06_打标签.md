# 打标签  



git 可以给仓库历史中的某一个提交打上标签,以示重要  
人们会使用这个功能来标记发布节点(v1.0,v2.0等等)


## 列出标签  

在git中列出已有的标签:  
git tag  
(可带上可选的-l选项或使用--list)  
这个命令将其以字母顺序列出标签(显示顺序并不重要)  


你也可以按特定的模式查找标签  
例如你只对1.8.5系列感兴趣,可以使用: git tag -l "v1.8.5*"  

注意:**按照通配符列出标签需要 -l 或 --list 选项**  
如果你只想要完整的标签列表，那么运行 git tag 就会默认假定你想要一个列表，它会直接给你列出来， 此时的 -l 或 --list 是可选的。  

然而，如果你提供了一个匹配标签名的通配模式，那么 -l 或 --list 就是强制使用的。  


## 创建标签

git支持两种标签:轻量标签与附注标签(lightweight and annotated)  

轻量标签很像一个不会改变的分支——它只是某个特定提交的引用。  

而附注标签是存储在 Git 数据库中的一个完整对象， 它们是可以被校验的，其中包含打标签者的名字、电子邮件地址、日期时间， 此外还有一个标签信息，并且可以使用 GNU Privacy Guard （GPG）签名并验证。   

通常会建议创建附注标签，这样你可以拥有以上所有信息。  
但是如果你只是想用一个临时的标签， 或者因为某些原因不想要保存这些信息，那么也可以用轻量标签。


### 附注标签  

git tag -a (version name) -m (make some message for it)  
使用如上命令即可创建附注标签  
-m选项指定一条将会存储在标签中的信息,如果没有则git启动编辑器要求你输入信息  

git show (version name)  
查看标签信息和与之对应的提交信息  
输出显示了打标签者的信息、打标签的日期时间、附注信息，然后显示具体的提交信息  


### 轻量标签  

git tag (version name)  
创建轻量标签，不需要使用 -a、-s 或 -m 选项，只需要提供标签名  
这时，如果在标签上运行 git show (version name)，你不会看到额外的标签信息。 命令只会显示出提交信息  


## 后期打标签  

可以使用 git log --pretty=oneline查找旧版本号,  
再使用 git tag -a (version name) (your git version id)  


## 共享标签  

默认情况下，git push 命令并不会传送标签到远程仓库服务器上。   
在创建完标签后你必须显式地推送标签到共享服务器上。   
这个过程就像共享远程分支一样  
你可以运行 git push origin (tag name)  

如果想要一次性推送很多标签，也可以使用带有 --tags 选项的 git push 命令。   
git push origin --tage  
这将会把所有不在远程仓库服务器上的标签全部传送到那里  

上传后,当其他人从仓库中克隆或拉取，他们也能得到你的那些标签  



## 删除标签

要删除掉你本地仓库上的标签，可以使用命令 git tag -d (tagname)  

注意上述命令并不会从任何远程仓库中移除这个标签，  
你必须用  
git push (remote) :refs/tags/(tagname) 来更新你的远程仓库  
这种操作的含义是，将冒号前面的空值推送到远程标签名，从而高效地删除它  

另一种删除方式是:  
git push origin --delete (tagname)  



## 检出标签

如果你想查看某个标签所指向的文件版本，可以使用 git checkout 命令:  
git checkout (tagname)  

这会使你的仓库处于“分离头指针（detached HEAD）”的状态  
这个状态有些不好的副作用  

在“分离头指针”状态下，如果你做了某些更改然后提交它们，标签不会发生变化  
但你的新提交将不属于任何分支，并且将无法访问，  
除非通过确切的提交哈希才能访问  


