<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // let 与 const的变量有提升
        // 但是存在一个暂时性死区, 即创建了变量但是没有初始化
        // 此时是无法进行访问的, 即之前的Cannot access 'a' before initialization

        // 一段代码在被真正的执行前，会有个专门用来声明变量的过程，俗语常把这个过程称为预解析/预处理。
        // 无论是用 var 还是用 let/const 声明的变量，都是在这个过程里被提前声明好的，
        // 俗语常把这种表现称为 hoisting。
        // 只是 var 和 let/const 有个区别，var 变量被声明的同时，就会被初始化成 undefined，
        // 而let和const不会。

        // 规范规定一个已经声明但未初始化的变量不能被赋值，甚至不能被引用，
        // 规范里用来
        // 声明 var/let 变量的内部方法是 CreateMutableBinding()，
        // 初始化变量用 InitializeBinding()，
        // 为变量赋值用 SetMutableBinding()，
        // 引用一个变量用 GetBindingValue()。
        // 在执行完 CreateMutableBinding() 后没有执行 InitializeBinding() 
        // 就执行 SetMutableBinding() 或者 GetBindingValue() 是会报错的，
        // 这种表现有个专门的术语（非规范术语）叫 TDZ（Temporal Dead Zone），
        // 通俗点说就是一个变量在声明后且初始化前是完完全全不能被使用的。
        // 因为 var 变量的声明和初始化（成 undefined ）都是在“预处理”过程中同时进行的，所以永远不会触发 TDZ 错误。
        // let 的话，声明和初始化是分开的，只有真正执行到 let 语句的时候，才会被初始化。
        // 如果只声明不赋值，比如 let foo，foo 会被初始化成 undefined，
        // 如果有赋值的话，只有等号右侧的表达式求值成功（不报错），才会初始化成功。
        // 一旦错过了初始化的机会，后面再没有弥补的机会。
    </script>
</body>
</html>