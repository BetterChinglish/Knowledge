<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // 对于数据属性有如下四个特征:
        // configurable: 
            // 是否可以使用delete删除并重新定义, 
            // 是否可以修改该属性的特性, 
            // 是否可以把它改为访问器属性
        // enumerable:
            // 属性是否可以通过for-in循环返回
        // writable:
            // 属性值是否可以修改
        // value:
            // 属性值
        
        // // 直接定义的数据属性,前三个特性都为true, value特性为undefined
        // let person = {};
        // // name属性未定义, 默认未undefined
        // console.log(person.name);   
        
        // // 直接定义person的name属性, 则name属性的前三个特性都为true
        // person.name = ["zhangsan", "lisi"];
        // // enumerable:
        // for(index in person.name){
        //     console.log(person.name[index]);
        // }
        // // writable:
        // person.name = "lisi";
        // console.log(person.name);

        // // configurable:
        // delete person.name;
        // console.log(person);






        // 创建Object实例
        // let person = new Object();
        // person.name = "zhangsan";
        // person.age = 18;
        // person.getPerson = function(){
        //     console.log(this.name+" is " +  this.age + " years old");
        // }
        // person.getPerson();

        // 使用Object.defineProperty()
        // let person = {};
        // Object.defineProperty(person, "name", {
        //     configurable: true,
        //     writable:false,
        //     value: "zhangsan"
        // })

        // console.log(person.name);
        // person.name="lisi";
        // console.log(person.name);

        // Object.defineProperty(person, "name", {
        //     writable: true
        // })

        // person.name = "lisi";
        // console.log(person.name);







        
        // 使用Object.defineProperties()
        let book = {
            // year_:2000,
            // edition:1
        }
        
        Object.defineProperties(book,{
            year_:{
                value:2017
            },

            edition: {
                value:1
            },

            year: {
                get(){
                    return this.year_;
                },

                set(newYear){
                    if(newYear>2017){
                        this.year_ = newYear;
                        this.edition += newYear-this.year_;
                    }
                }
            }
        })
        // 由于只设置了value, 他们的可写属性等都是否, 故下列操作无效
        book.year=2019;
        console.log(book)
        // Object.defineProperty和Object.defineProperties对于未指定的
        // writable, enumerable, configurable都为false




    </script>
</body>
</html>