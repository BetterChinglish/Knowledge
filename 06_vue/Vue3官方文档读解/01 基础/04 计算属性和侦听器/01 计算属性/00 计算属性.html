<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https:/unpkg.com/vue@next"></script>
</head>
<body>
    <!-- 计算属性
        模板内的表达式非常便利，但是设计它们的初衷是用于简单运算的。
        在模板中放入太多的逻辑会让模板过重且难以维护
    -->

    <div id="app">
        <p>has publish books:</p>
        <!-- 此处表达式过长,使用 计算属性 简化 -->
        <!-- <span> {{ author.books.length > 0? "yes" : "no" }} </span> -->
        <span> {{ publishedBooksMessage }} </span>
        <!-- 注意,computed 无需添加(),methods需要 -->
        <!-- 其实就类似于C++类中提供接口给外界使用,接口提供特殊功能 -->
    </div>

    <script>

        Vue.createApp({
            data() {
                return {
                    author:{
                        name:"bob",
                        books:[
                            // "vue 2 - advanced guide",
                            // "vue 3 - basic guide",
                            // "vue 4 the mystery"
                        ]
                    }
                }
            },
            computed:{
                // 使用方法可以达到类似效果
                publishedBooksMessage() {
                    return this.author.books.length>0? "yes" : "no";
                }
            }
        }).mount('#app');
        // Vue 知道 vm.publishedBookMessage 依赖于 vm.author.books，
        // 因此当 vm.author.books 发生改变时，
        // 所有依赖 vm.publishedBookMessage 的绑定也会更新。

        // 而且最妙的是我们已经声明的方式创建了这个依赖关系：
        // 计算属性的 getter 函数没有副作用，它更易于测试和理解。

    </script>
</body>
</html>